"use strict";(self.webpackChunkreact_holodcov_1=self.webpackChunkreact_holodcov_1||[]).push([[172],{1333:function(t,s,e){e.d(s,{e:function(){return h}});var n=e(8683),o=e(5671),r=e(3144),i=e(136),u=e(7277),a=e(2791),l=e(7689),c=e(9101),p=e(184),d=function(t){return{isAuth:t.auth.isAuth}},h=function(t){var s=function(s){(0,i.Z)(a,s);var e=(0,u.Z)(a);function a(){return(0,o.Z)(this,a),e.apply(this,arguments)}return(0,r.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,n.Z)({},this.props)):(0,p.jsx)(l.Fg,{to:"/login"})}}]),a}(a.Component);return(0,c.$j)(d)(s)}},4172:function(t,s,e){e.r(s),e.d(s,{default:function(){return E},withRouter:function(){return D}});var n=e(8683),o=e(5671),r=e(3144),i=e(136),u=e(7277),a=e(2791),l=e(103),c="ProfileInfo_profileInfoAva__fFmE3",p="ProfileInfo_statusContainer__sM-Jw",d=e(885),h=e(184),f=function(t){var s=(0,a.useState)(!1),e=(0,d.Z)(s,2),n=e[0],o=e[1],r=(0,a.useState)(t.status),i=(0,d.Z)(r,2),u=i[0],l=i[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,h.jsxs)("div",{className:p,children:[!n&&(0,h.jsx)("div",{children:(0,h.jsxs)("span",{onDoubleClick:function(){o(!0)},children:["Your status: ",t.status||"No status! "]})}),n&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{value:u,onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,type:"text",onBlur:function(){o(!1),t.updateStatus(u)}})})]})},x=function(t){return t.profile?(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("img",{src:t.profile.photos.large}),(0,h.jsx)(f,{status:t.status,updateStatus:t.updateStatus})]})}):(0,h.jsx)(l.Z,{})},v=e(6070),P=e(2982),j="MyPosts_postsBlock__xeAqQ",g="MyPosts_posts__Nafo-",m="MyPosts_input__NEiMB",_="MyPosts_error__8BJoZ",w="Post_item__3OBfp",Z=function(t){return(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQKqIL063cbhyfBHg4NR8_GL295cExAIR1TZg&usqp=CAU"}),t.message,(0,h.jsx)("div",{children:(0,h.jsxs)("span",{children:["Like ",t.likeCount]})})]})},C=e(5705),S=e(7103),y=a.memo((function(t){window.props=[],window.props.push(t),console.log(t),console.log("Hello!");var s=(0,P.Z)(t.postsData).reverse().map((function(t){return(0,h.jsx)(Z,{message:t.message,likeCount:t.likeCount})}));return(0,h.jsxs)("div",{className:j,children:[(0,h.jsx)("h3",{children:"My post"}),(0,h.jsx)(T,{addPost:t.addPost,onPostChange:t.onPostChange,newPostText:t.newPostText}),(0,h.jsx)("div",{className:g,children:s})]})})),T=function(t){var s=S.Ry().shape({newPostText:S.Z_()});return(0,h.jsx)(C.J9,{initialValues:{newPostText:""},validateOnBlur:!0,onSubmit:function(s,e){var n=e.resetForm;!function(s){t.addPost(s.newPostText),console.log(s)}(s),n()},validationSchema:s,children:function(t){var s=t.values,e=t.errors,n=t.touched,o=t.handleChange,r=t.handleBlur,i=t.isValid,u=t.handleSubmit,a=t.dirty;return(0,h.jsxs)("div",{children:[(0,h.jsx)("textarea",{placeholder:"Enter new post",className:m,name:"newPostText",onChange:o,onBlur:r,value:s.newPostText}),n.newPostText&&e.newPostText&&(0,h.jsx)("p",{className:_,children:e.newPostText}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{disabled:!i&&!a&&!s.newPostText,onClick:u,type:"submit",children:"Add post"})})]})}})},k=y,N=e(9101),A=e(7781),b=(0,A.qC)((0,N.$j)((function(t){return{postsData:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,v.Wl)(s))}}})))(k),I=function(t){return(0,h.jsxs)("div",{children:[(0,h.jsx)(x,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(b,{})]})},B=e(7689),M=e(1333),q=(e(8440),function(t){(0,i.Z)(e,t);var s=(0,u.Z)(e);function e(t){var n;return(0,o.Z)(this,e),(n=s.call(this,t)).state={isShowMyProfile:!0},n}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=+this.props.router.params.profileId,s=this.props.authorizedProfileId;t?(this.props.getProfileId(t),this.props.getStatus(t)):this.props.isAuth&&(this.props.getProfileId(s),this.props.getStatus(s))}},{key:"render",value:function(){return(0,h.jsx)(I,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(a.Component));function D(t){return function(s){var e=(0,B.TH)(),o=(0,B.s0)(),r=(0,B.UO)();return(0,h.jsx)(t,(0,n.Z)((0,n.Z)({},s),{},{router:{location:e,navigate:o,params:r}}))}}var E=(0,A.qC)(D,M.e,(0,N.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedProfileId:t.auth.id,isAuth:t.auth.isAuth}}),{getProfileId:v.v4,getStatus:v.lR,updateStatus:v.Nf}))(q)}}]);
//# sourceMappingURL=172.8c2fbb33.chunk.js.map